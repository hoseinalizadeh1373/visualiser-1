<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="dist/html2canvas.js"></script>
</head>
<body>
    
    <div id="specific">
        <h1>Click to Take a Screenshot & Download it! <small>using html2canvas.js + canvas2image.js</small></h1>
        <p>
          This is a simple demo.
        </p>
        <p>
          Use html2canvas.js to take a screenshot of a specific div and then use canvas2image.js to download the screenshot as an image locally to your filesystem.
        </p>
        <button type="button" class="btn btn-default">Take a Screenshot!</button>
        <p>References: <a href="https://html2canvas.hertzen.com/">html2canvas.js</a><a href="https://github.com/SuperAL/canvas2image">canvas2image.js</a></p>
      </div>
      <input type='button' id='but_screenshot' value='Take screenshot' onclick='screenshot();'><br/>

      <script type='text/javascript'>
        function screenshot(){
            html2canvas(document.getElementById("specific")).then(function(canvas) {
       
                document.body.appendChild(canvas);
            });
        }
    </script>
   



   <script>
    function takeshot() {
       let div =
           document.getElementById('canvas');

       // Use the html2canvas
       // function to take a screenshot
       // and append it
       // to the output div
       html2canvas(div).then(
           function (canvas) {
               document
               .getElementById('output')
               .appendChild(canvas);
           })
   }
 
       setInterval(function(){
           html2canvas(document.getElementById("content"),{allowTaint: true}).then(function(canvas) {
//    let canvass = document.getElementById("output");
//             // document.getElementById('output').appendChild(canvas);
//             var ctx=canvass.getContext("2d");
   
 
           var base64image = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
           window.location.href=image;
   
//         ctx.drawImage(canvas,0,0,400,200);
   
  
});
       },100000);
  
     function capture() {
  
       
       html2canvas(document.getElementById("content"),{allowTaint: true}).then(function(canvas) {
  
           document.body.appendChild(canvas);
           var base64image = canvas.toDataURL("image/png");
          
           var fs = require('fs');
// string generated by canvas.toDataURL()
var fs = require('fs');
// string generated by canvas.toDataURL()
var img = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0"
+ "NAAAAKElEQVQ4jWNgYGD4Twzu6FhFFGYYNXDUwGFpIAk2E4dHDRw1cDgaCAASFOffhEIO"
+ "3gAAAABJRU5ErkJggg==";
// Grab the extension to resolve any image error
var ext = img.split(';')[0].match(/jpeg|png|gif/)[0];
// strip off the data: url prefix to get just the base64-encoded bytes
var data = img.replace(/^data:image\/\w+;base64,/, "");
var buf = new Buffer(img, 'base64');
fs.writeFile('image.' + ext, buf);
           // Image i =new Image= window.atob(base64image);
           //saveImage(base64image);
           console.log(base64image);

           // window.open(base64image , "_blank");
       });
   
   }
   function saveImage(base64string) {
   var imageData = base64string.split(',')[1];
   var a = $("<a>").attr("href", "data:Application/base64," + imageData )
                   .attr("download","image.png")
                   .appendTo("body");

       a[0].click();

   a.remove();
}
</script>
</body>
</html>